<section class="project-view container" ng-controller="ProjectsController" ng-init="findOne();findProjectBids()">
    <div class="page-header">
        <div class="project-header">
            <h2 ng-bind="project.title"></h2>
            <!-- only show this edit/delete option to buyers -->
            <div class="pull-left edit-delete" ng-show="authentication.user._id == project.user._id">
                <a class="btn btn-primary" ui-sref="projects.edit({projectId: project._id})">
                    <i class="glyphicon glyphicon-edit"></i>
                </a>
                <a class="btn btn-primary" ng-click="remove();">
                    <i class="glyphicon glyphicon-trash"></i>
                </a>
            </div>
            <!-- only show this bid div to sellers trying to bid on a project -->
            <div class="pull-left" ng-show="authentication.user.roles[0] === 'seller'">
                <a class="btn btn-primary" ui-sref="bids.create({projectId:project._id})">
                    <i class="glyphicon glyphicon-edit"></i>
                </a>
            </div>
        </div>

    </div>

<div class="form-horizontal data">
    <div class="form-group">
        <label class="control-label col-sm-2">System Capacity: </label>
        <div class="col-sm-4">
            <p ng-bind="project.system_capacity"></p>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-sm-2">Bid Deadline:</label>
        <div class="col-sm-4">
            <p ng-bind="project.bid_deadline | date:'mediumDate'"></p>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-sm-2">Shipping Address:</label>
        <div class="col-sm-4">
            <p ng-bind="project.shipping_address"></p>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-sm-2">Panel Wattage:</label>
        <div class="col-sm-4">
            <p ng-bind="project.panel_wattage"></p>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-sm-2">Panel Type:</label>
        <div class="col-sm-4">
            <p ng-bind="project.panel_type"></p>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-sm-2">Remaining Time:</label>
        <div class="col-sm-4">
            <span class="bg-danger" countdown='' date="project.bid_deadline"/>
        </div>
    </div>
</div>

<div class="list-group">
    <a ng-repeat="bid in bids" class="list-group-item">
    <!-- ng-show="authentication.user._id == project.user._id" -->
      <small class="list-group-item-text">
        Posted on
        <span ng-bind="bid.created | date:'mediumDate'"></span>
        by
        <span ng-bind="bid.user.displayName"></span>
      </small>
      <h5 class="list-group-item-heading">Bid Price: <span ng-bind="bid.bid_price"></span></h5>
      <h5 class="list-group-item-heading">Delivery Date: <span ng-bind="bid.delivery_date | date:'mediumDate'"></span></h5>
    </a>
</div>

    <!-- <ul class="projects col-sm-5">
    <div class="posted-date">
      <em class="text-muted">
        Posted on
        <span ng-bind="project.created | date:'mediumDate'"></span>
        by
        <span ng-bind="project.user.displayName"></span>
      </em>
    </div>
        <li>
            <p class="title col-sm-6">System Capacity:</p>
            <p ng-bind="project.system_capacity"></p>
        </li>
        <li>
            <p class="title col-sm-6">Bid Deadline:</p>
            <p ng-bind="project.bid_deadline | date:'mediumDate'"></p>
        </li>
        <li>
            <p class="title col-sm-6">Shipping Address:</p>
            <p ng-bind="project.shipping_address"></p>
        </li>
        <li>
            <p class="title col-sm-6">Panel Wattage:</p>
            <p ng-bind="project.panel_wattage"></p>
        </li>
        <li>
            <p class="title col-sm-6">Panel Type:</p>
            <p ng-bind="project.panel_type"></p>
        </li>
    </ul> -->
</section>