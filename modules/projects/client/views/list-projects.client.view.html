<section class="container project" ng-controller="ProjectsController" ng-init="(authentication.user.roles[0] === 'seller') ? find() : findMyProjects();">
    <div class="page-header">
        <h2>Projects</h2>
    </div>
    <div class="list-group">
        <div ng-repeat="project in projects" class="list-group-item">

        <img src="http://www.ugei.com/sites/default/files/imagecache/thumbnail/Toyota_1.jpg">
        <div class="detail">
            <a class="project-title" ui-sref="projects.view({projectId: project._id})">
                <!-- ng-show="authentication.user._id == project.user._id" -->
                <h4 class="list-group-item-heading" ng-bind="project.title"></h4>

            </a>
            City, State | <span ng-bind="project.system_capacity"></span> kW
            <div class="list-detail">
                <h5 class="list-group-item-heading bid">Top Bid: <span ng-bind="(project.bids[0]) ? (project.bids[0].bid_price/100 | currency) + '/W from ' + project.bids[0].user.displayName : 'Currently No Bids!'"></span></h5>

            </div>
            <div><a class="place-bid" ng-show="authentication.user.roles[0] === 'seller'" ui-sref="bids.create({projectId: project._id})">Place a Bid</a></div>
            <h5 class="accepted-panels">Accepted Panels: <div ng-bind="project.panel_models[0].manufacturer"></div></h5>
        </div>
        


        </div>
    </div>
    <div class="alert alert-warning text-center" ng-if="authentication.user.roles[0] !== 'seller' && projects.$resolved && !projects.length">
        No projects yet, why don't you <a ui-sref="projects.create">create one</a>?
    </div>
    <div class="alert alert-warning text-center" ng-if="authentication.user.roles[0] === 'seller' && projects.$resolved && !projects.length">No projects to bid on!</div>
</section>

